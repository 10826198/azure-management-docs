---
title: Rotate SQL Managed Instance credentials
description: Rotate SQL Managed Instance credentials
services: azure-arc
ms.service: azure-arc
ms.subservice: azure-arc-data
author: GuptaSeattle
ms.author: guptapra
ms.reviewer: mikeray
ms.date: 02/14/2023
ms.topic: how-to
---

# Rotate SQL Managed Instance Credentials (preview)

This article describes how to rotate system managed credential for Azure Arc-enabled SQL Managed Instances. There are 2 categories of system managed credentials:
 - Data controller credentials: Credentials of controldb like logins, encryption keys that are stored in Kubernetes secrets.
 - Custom resource credentials: The credentials like agent certificates which are generated by the system, stored in controldb and rolled out using the file delivery mechanism.

QQ: Which credentials are rotated? Both types or only custom resources
Customer interact with which credentials?

## Limitations

The following limitations must be considered when rotating SQL managed Instance credentials:

- Only General Purpose Tier is supported.
- Failover Groups are not supported.
- Automatic pre-scheduled rotation is not supported

# Prerequisites: 
Before you proceed with this article, you must have an Azure Arc-enabled SQL Managed Instance resource created and connect to it.

- [An Azure Arc-enabled SQL Managed Instance created](./create-sql-managed-instance.md)
- [Connect to Azure Arc-enabled SQL Managed Instance](./connect-managed-instance.md)


## How to rotate service managed credentials in a managed instance

Service managed credential rotation will be triggered by either of the following:

- Automatic rotation job at scheduled interval (to meet compliance requirement)
- User-triggered in case of security issue.

Currently, only user-triggered is supported for credential rotation.

QQ: How to rotate the credentils - No CLI today or there is a CLI?QQ: Overview of Process?
QQ: How it works?

Rollback to previous credentials is supported but you can only go back to n-1 version where n is current version. 
QQ: How to rollback?



## Next steps